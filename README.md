# Face Recognition System(Intruder Detection)

This project implements a face recognition system using OpenCV and the LBPH (Local Binary Patterns Histograms) algorithm. The system captures and stores face images, trains a model using those images, and then uses the trained model for real-time face recognition. The system identifies faces as either "Approved" or "Red Intruder," and sends an SOS notification if an intruder is detected.

## Table of Contents

1. Prerequisites
2. Installation
3. Project Structure
4. Usage
   - Face Image Collection
   - Training the Model
   - Real-Time Face Recognition
5. Customization
6. License

---

## Prerequisites

Before running the project, ensure you have the following:

- Python 3.x
- OpenCV (`opencv-python` and `opencv-contrib-python` packages)
- Plyer (for notifications)
- Numpy
- Pickle (standard Python library)

You can install the required packages using:

```bash
pip install opencv-python opencv-contrib-python plyer numpy
```

## Installation

1. Clone the repository:

   ```bash
   git clone https://github.com/your-username/face-recognition-system.git
   ```

2. Navigate to the project directory:

   ```bash
   cd face-recognition-system
   ```

3. Ensure that the project has access to the required libraries listed in the `Prerequisites` section.

---

## Project Structure

The project consists of the following Python scripts:

- **face.py**: Collects face images from the webcam and saves them to a specified directory.
- **train.py**: Prepares the face image dataset and trains the LBPH model.
- **main.py**: Real-time face recognition using the trained model.

Directory Structure:
```
face-recognition-system/
│
├── face.py                # For face image collection
├── train.py               # For training the model
├── main.py                # For real-time face recognition
├── model.pkl              # Serialized model file (generated by train.py)
└── README.md              # This documentation file
```

---

## Usage

### Face Image Collection

1. **Run the `face.py` script** to collect face images from your webcam:

   ```bash
   python face.py
   ```

   - The script will open the webcam and detect faces in real-time.
   - It will automatically save the detected faces as PNG images in the specified directory (`E:/Opencv/data/photo/1`).
   - Press `q` to exit.

### Training the Model

2. **Run the `train.py` script** to prepare the training data and train the model:

   ```bash
   python train.py
   ```

   - The script loads the collected face images, detects the faces in each image, and prepares the training dataset.
   - It trains the LBPH face recognizer and saves the model as `model.pkl`.

### Real-Time Face Recognition

3. **Run the `main.py` script** to start real-time face recognition:

   ```bash
   python main.py
   ```

   - The script loads the trained model (`model.pkl`), captures webcam frames, and performs face recognition.
   - If the detected face is recognized, it will display "Approved"; otherwise, it will display "Red Intruder."
   - If an "intruder" is detected for more than 5 seconds, an SOS notification will be triggered, and a screenshot of the intruder will be saved.

---

## Customization

- **Face Image Storage**: Modify the `database_dir` path in `face.py` to change where face images are stored.
- **Confidence Threshold**: Adjust the confidence threshold for face recognition in `main.py` (default is `60`).
- **SOS Notification**: Customize the SOS notification logic and timing in `main.py`.

---

## License

This project is licensed under the MIT License.

---

You can customize this further to suit your project's needs, but this README provides a clear starting point. Let me know if you need additional changes!
